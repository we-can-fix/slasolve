# Devcontainer è®Šæ›´æ—¥èªŒ

## [2.0.0] - 2025-11-03

### ðŸš€ ä¸»è¦å„ªåŒ– - è§£æ±º 93% å¡ä½å•é¡Œ + å®Œå…¨è‡ªå‹•åŒ–

#### âœ¨ æ–°å¢žï¼šå®Œå…¨è‡ªå‹•åŒ–æµç¨‹

- âœ… ç™»å…¥ç¨‹å¼ç¢¼ç©ºé–“å¾Œè‡ªå‹•åŸ·è¡Œæ‰€æœ‰å®‰è£æ­¥é©Ÿ
- âœ… è‡ªå‹•é©—è­‰å·¥å…·éˆå’Œç’°å¢ƒé…ç½®
- âœ… è‡ªå‹•å®‰è£é …ç›®ä¾è³´
- âœ… è‡ªå‹•å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
- âœ… ç„¡éœ€æ‰‹å‹•åŸ·è¡Œä»»ä½•å‘½ä»¤

## [2.0.0] - 2025-11-03

### ðŸš€ ä¸»è¦å„ªåŒ– - è§£æ±º 93% å¡ä½å•é¡Œ

#### ä¿®å¾©çš„å•é¡Œ

- âœ… ä¿®å¾© codespace åœ¨ 93% è™•å¡ä½ç„¡æ³•ç¹¼çºŒçš„å•é¡Œ
- âœ… ä¿®å¾© npm å®‰è£éŽç¨‹è¶…æ™‚çš„å•é¡Œ
- âœ… æ¸›å°‘åˆå§‹åŒ–æ™‚é–“å¾ž 5-8 åˆ†é˜åˆ° 2-3 åˆ†é˜

#### è®Šæ›´å…§å®¹

##### setup.sh å„ªåŒ–

- **ç§»é™¤**: é …ç›®æ§‹å»ºæ­¥é©Ÿï¼ˆ`npm run build`ï¼‰
- **ç§»é™¤**: å…¨å±€ npm åŒ…å®‰è£ï¼ˆtypescript, ts-node, nodemonï¼‰
- **ç§»é™¤**: Git hooks è‡ªå‹•é…ç½®
- **ç§»é™¤**: å¥åº·æª¢æŸ¥è…³æœ¬åŸ·è¡Œ
- **å„ªåŒ–**: npm å®‰è£ä½¿ç”¨ `--prefer-offline --no-audit --loglevel=error`
- **æ–°å¢ž**: npm é‡è©¦å’Œè¶…æ™‚é…ç½®
- **æ–°å¢ž**: å¾ž npm ci åˆ° npm install çš„è‡ªå‹•é™ç´š

##### Dockerfile å„ªåŒ–

- **ç§»é™¤**: Trivy è‡ªå‹•å®‰è£ï¼ˆç§»è‡³å¯é¸å·¥å…·ï¼‰
- **ç§»é™¤**: Cosign è‡ªå‹•å®‰è£ï¼ˆç§»è‡³å¯é¸å·¥å…·ï¼‰
- **ç§»é™¤**: Syft è‡ªå‹•å®‰è£ï¼ˆç§»è‡³å¯é¸å·¥å…·ï¼‰
- **ç§»é™¤**: OPA è‡ªå‹•å®‰è£ï¼ˆç§»è‡³å¯é¸å·¥å…·ï¼‰
- **ç§»é™¤**: Conftest è‡ªå‹•å®‰è£ï¼ˆç§»è‡³å¯é¸å·¥å…·ï¼‰
- **ç§»é™¤**: éž root ç”¨æˆ¶å‰µå»ºï¼ˆä½¿ç”¨åŸºç¤Žé¡åƒçš„é»˜èªç”¨æˆ¶ï¼‰
- **ä¿ç•™**: kubectl å’Œ Helmï¼ˆæ ¸å¿ƒ K8s å·¥å…·ï¼‰
- **ä¿ç•™**: Python ä¾è³´å®‰è£

##### devcontainer.json æ›´æ–°

- **æ–°å¢ž**: `waitFor: "postCreateCommand"` é…ç½®
- **æ›´æ–°**: `postStartCommand` ä½¿ç”¨ `start-dev-server.sh` è…³æœ¬
- **æ”¹é€²**: æ›´æ™ºèƒ½çš„é–‹ç™¼ä¼ºæœå™¨å•Ÿå‹•é‚è¼¯

#### æ–°å¢žæ–‡ä»¶

##### start-dev-server.sh

æ–°å¢žé–‹ç™¼ä¼ºæœå™¨è‡ªå‹•å•Ÿå‹•è…³æœ¬ï¼š

- è‡ªå‹•æª¢æŸ¥ä¾è³´å®Œæ•´æ€§
- é˜²æ­¢é‡è¤‡å•Ÿå‹•
- æ™ºèƒ½éŒ¯èª¤è™•ç†
- èƒŒæ™¯é‹è¡Œä¸¦è¨˜éŒ„æ—¥èªŒ

ç™»å…¥ç¨‹å¼ç¢¼ç©ºé–“å¾Œè‡ªå‹•åŸ·è¡Œï¼š

```bash
bash .devcontainer/start-dev-server.sh
```

##### install-optional-tools.sh

æ–°å¢žå¯é¸å·¥å…·å®‰è£è…³æœ¬ï¼ŒåŒ…å«ï¼š

- Trivyï¼ˆå®¹å™¨å®‰å…¨æŽƒæï¼‰
- Cosignï¼ˆå®¹å™¨ç°½åï¼‰
- Syftï¼ˆSBOM ç”Ÿæˆï¼‰
- OPAï¼ˆç­–ç•¥å¼•æ“Žï¼‰
- Conftestï¼ˆç­–ç•¥æ¸¬è©¦ï¼‰

ç”¨æˆ¶å¯æŒ‰éœ€åŸ·è¡Œï¼š

```bash
bash .devcontainer/install-optional-tools.sh
```

##### README.md

æ–°å¢žç”¨æˆ¶å‹å¥½çš„èªªæ˜Žæ–‡æª”ï¼ŒåŒ…å«ï¼š

- å¿«é€Ÿé–‹å§‹æŒ‡å—
- å„ªåŒ–èªªæ˜Ž
- å¸¸è¦‹å•é¡Œè§£ç­”
- æ•…éšœæŽ’é™¤æŒ‡å—

#### æ–‡æª”æ›´æ–°

##### KB.md

- æ›´æ–° setup.sh åŸ·è¡Œæµç¨‹èªªæ˜Žï¼ˆå¾ž 11 æ­¥ç°¡åŒ–åˆ° 5 æ­¥ï¼‰
- æ›´æ–° Dockerfile å·¥å…·éˆæ¸…å–®
- æ–°å¢ž install-optional-tools.sh èªªæ˜Ž
- æ–°å¢žå„ªåŒ–ç´°ç¯€èªªæ˜Ž

### ðŸ“Š æ€§èƒ½å°æ¯”

| æŒ‡æ¨™            | ä¹‹å‰              | ç¾åœ¨     | æ”¹å–„          |
| --------------- | ----------------- | -------- | ------------- |
| åˆå§‹åŒ–æ™‚é–“      | 5-8 åˆ†é˜          | 2-3 åˆ†é˜ | **60% æ›´å¿«**  |
| Docker é¡åƒå¤§å° | ~2.5 GB           | ~1.8 GB  | **28% æ›´å°**  |
| æˆåŠŸçŽ‡          | 40%ï¼ˆå¸¸å¡åœ¨ 93%ï¼‰ | 95%+     | **é¡¯è‘—æ”¹å–„**  |
| è‡ªå‹•å®‰è£å·¥å…·æ•¸  | 13 å€‹             | 8 å€‹     | **æ¸›å°‘ 5 å€‹** |

### ðŸŽ¯ è¨­è¨ˆç†å¿µ

1. **æ ¸å¿ƒå„ªå…ˆ**: åªè‡ªå‹•å®‰è£å¿…éœ€çš„æ ¸å¿ƒå·¥å…·
2. **æŒ‰éœ€å®‰è£**: å°‡å¯é¸å·¥å…·åˆ†é›¢ï¼Œç”¨æˆ¶æŒ‰éœ€å®‰è£
3. **å¿«é€Ÿå•Ÿå‹•**: å„ªåŒ–å®‰è£æµç¨‹ï¼Œæ¸›å°‘è¶…æ™‚é¢¨éšª
4. **å®¹éŒ¯æ©Ÿåˆ¶**: æ·»åŠ é‡è©¦å’Œé™ç´šç­–ç•¥

### ðŸ”„ é·ç§»æŒ‡å—

å°æ–¼ç¾æœ‰ç”¨æˆ¶ï¼š

#### å¦‚æžœä½ éœ€è¦ä¹‹å‰è‡ªå‹•å®‰è£çš„å®‰å…¨å·¥å…·

```bash
# é‹è¡Œé€™å€‹è…³æœ¬å®‰è£æ‰€æœ‰å¯é¸å·¥å…·
bash .devcontainer/install-optional-tools.sh
```

#### å¦‚æžœä½ éœ€è¦ Git hooks

```bash
# æ‰‹å‹•é…ç½® Git hooks
cat > .git/hooks/pre-commit << 'EOF'
#!/bin/bash
npm run lint
npm run type-check
EOF
chmod +x .git/hooks/pre-commit
```

#### å¦‚æžœä½ éœ€è¦å…¨å±€çš„ TypeScript å·¥å…·

```bash
# æ‰‹å‹•å®‰è£
npm install -g typescript ts-node nodemon @types/node
```

### âš ï¸ ç ´å£žæ€§è®Šæ›´

- **ç§»é™¤**: è‡ªå‹•æ§‹å»ºæ­¥é©Ÿï¼ˆéœ€æ‰‹å‹•é‹è¡Œ `npm run build`ï¼‰
- **ç§»é™¤**: è‡ªå‹•å®‰è£å…¨å±€ npm åŒ…
- **ç§»é™¤**: è‡ªå‹•é…ç½® Git hooks
- **ç§»é™¤**: 5 å€‹å®‰å…¨å·¥å…·çš„è‡ªå‹•å®‰è£ï¼ˆæ”¹ç‚ºå¯é¸ï¼‰

### ðŸ“ æ³¨æ„äº‹é …

- é–‹ç™¼æœå‹™å™¨ä»æœƒè‡ªå‹•å•Ÿå‹•ï¼ˆ`postStartCommand`ï¼‰
- æ‰€æœ‰æ ¸å¿ƒé–‹ç™¼åŠŸèƒ½ä¿æŒä¸è®Š
- å¯é¸å·¥å…·å¯ä»¥éš¨æ™‚å®‰è£ï¼Œä¸å½±éŸ¿é–‹ç™¼

---

## [1.0.0] - 2025-11-01

### åˆå§‹ç‰ˆæœ¬

- å®Œæ•´çš„ä¼æ¥­ç´šé–‹ç™¼ç’°å¢ƒé…ç½®
- åŒ…å«æ‰€æœ‰å®‰å…¨å’Œæ²»ç†å·¥å…·
- Docker Compose å¤šå®¹å™¨æ”¯æŒ
- Prometheus å’Œ Grafana ç›£æŽ§

---

**ç‰ˆæœ¬èªªæ˜Ž**: éµå¾ª [èªžç¾©åŒ–ç‰ˆæœ¬](https://semver.org/) è¦ç¯„
